{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/App.jsx","reportWebVitals.js","index.js"],"names":["Searchbar","state","searchItem","handleFormChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","console","log","this","className","type","onClick","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","id","src","tag","currentImage","alt","Button","ImageGallery","page","per_page","searchResult","error","largeImg","status","handleLoadMoreBtnClick","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","fetch","then","response","ok","json","Promise","reject","Error","data","hits","length","catch","color","height","width","message","map","item","webformatURL","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","App","modalOpen","handleFormSubmit","searchQuery","handleSearchResult","querryResult","handleItemClick","handleModalClose","perPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9f2f0a35.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport class Searchbar extends Component {\n  state = {\n    searchItem: '',\n  };\n\n  handleFormChange = e => {\n    this.setState({ searchItem: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchItem.trim() === '') {\n      console.log('enter image name');\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchItem);\n    this.setState({ searchItem: '' });\n  };\n\n  render() {\n    const { searchItem } = this.state;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button\n            type=\"submit\"\n            className=\"SearchForm-button\"\n            onClick={this.handleSubmit}\n          >\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={searchItem}\n            onChange={this.handleFormChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","// import PropTypes from 'prop-types';\n\nexport const ImageGalleryItem = ({ id, src, tag, currentImage }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        id={id}\n        src={src}\n        alt={tag}\n        onClick={currentImage}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n","// import PropTypes from 'prop-types';\n\nexport const Button = ({ onClick }) => {\n  return (\n    <div className=\"btn_wrapper\">\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\nimport { Button } from '../Button/Button';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22569115-02a432c6c1c62bbb3a59801b7';\nconst PER_PAGE = 12;\n\nexport class ImageGallery extends Component {\n  state = {\n    page: 1,\n    per_page: PER_PAGE,\n\n    searchResult: [],\n    searchItem: '',\n\n    error: null,\n\n    largeImg: '',\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const searchItem = this.props.searchItem;\n    const { page, per_page } = this.state;\n\n    if (prevProps.searchItem !== searchItem) {\n      // this.setState({this.state.searchItem = ''});\n      this.setState({ status: 'pending' });\n\n      fetch(\n        `${BASE_URL}?q=${searchItem}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}}`,\n      )\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n          return Promise.reject(new Error(`${searchItem} returned with error`));\n        })\n        .then(data => {\n          const { hits } = data;\n\n          hits.length === 0\n            ? this.setState({ searchResult: [], status: 'idle' })\n            : this.setState({ searchResult: hits });\n\n          return this.setState({ status: 'resolved' });\n        })\n        .catch(error => this.setState({ error: error, status: 'rejected' }));\n    }\n  }\n\n  handleLoadMoreBtnClick = () => {\n    this.setState(prevState => ({\n      per_page: prevState.per_page + PER_PAGE,\n      page: prevState.page + 1,\n    }));\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { searchResult, error, status } = this.state;\n\n    if (status === 'idle') {\n      return <h2>hello</h2>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <div className=\"loader_wrapper\">\n          <Loader\n            type=\"TailSpin\"\n            color=\"#3f51b5\"\n            height={60}\n            width={60}\n            className=\"Loader\"\n          />\n        </div>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <h2>{error.message}</h2>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <section>\n          <ul className=\"ImageGallery\">\n            {searchResult.map(item => {\n              return (\n                <ImageGalleryItem\n                  key={item.id}\n                  id={item.id}\n                  src={item.webformatURL}\n                  tag={item.tag}\n                  currentImage={this.props.currentImage}\n                />\n              );\n            })}\n          </ul>\n          {searchResult.length > PER_PAGE && (\n            <Button onClick={this.handleLoadMoreBtnClick} />\n          )}\n        </section>\n      );\n    }\n  }\n}\n\nImageGallery.propTypes = {\n  children: PropTypes.node,\n};\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.src} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport { Searchbar } from './Searchbar';\nimport { ImageGallery } from './ImageGallery';\n\nimport { Modal } from './Modal';\n\nexport class App extends Component {\n  state = {\n    searchItem: '',\n    currentImage: '',\n    modalOpen: false,\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchItem: searchQuery });\n  };\n\n  handleSearchResult = querryResult => {\n    if (querryResult.length === 0) {\n      this.setState({ searchResult: null });\n    } else {\n      this.setState({ searchResult: querryResult });\n    }\n  };\n\n  handleItemClick = e => {\n    this.setState({ currentImage: e.currentTarget.src });\n    this.setState({ modalOpen: true });\n  };\n\n  handleModalClose = e => {\n    this.setState({ modalOpen: false });\n  };\n\n  render() {\n    const { searchItem, currentImage, modalOpen } = this.state;\n    // console.log(this.state.searchItem);\n    // console.log(this.state.searchResult);\n\n    // const notify = () => toast('Here is your toast.');\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          perPage={this.props.per_page}\n          searchItem={searchItem}\n          searchResult={this.handleSearchResult}\n          currentImage={this.handleItemClick}\n        />\n\n        {modalOpen && (\n          <Modal src={currentImage} onClose={this.handleModalClose} />\n        )}\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
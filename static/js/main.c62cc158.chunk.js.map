{"version":3,"sources":["components/Searchbar/Searchbar.jsx","api-services/fetch-api.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/App.jsx","reportWebVitals.js","index.js"],"names":["Searchbar","state","searchItem","handleFormChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","console","log","this","className","type","onClick","onChange","autoComplete","autoFocus","placeholder","Component","BASE_URL","API_KEY","fetchItems","page","fetch","ImageGalleryItem","id","src","tag","currentImage","alt","Button","onBtnClick","ImageGallery","searchResult","error","status","scrollDown","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevState","then","response","ok","json","Promise","reject","Error","data","hits","length","catch","color","height","width","message","map","item","index","itemId","uuidv4","webformatURL","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","App","modalOpen","handleFormSubmit","searchQuery","handleSearchResult","querryResult","handleItemClick","handleModalClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c62cc158.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport class Searchbar extends Component {\n  state = {\n    searchItem: '',\n  };\n\n  handleFormChange = e => {\n    this.setState({ searchItem: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchItem.trim() === '') {\n      console.log('enter image name');\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchItem);\n    this.setState({ searchItem: '' });\n  };\n\n  render() {\n    const { searchItem } = this.state;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button\n            type=\"submit\"\n            className=\"SearchForm-button\"\n            onClick={this.handleSubmit}\n          >\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={searchItem}\n            onChange={this.handleFormChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22569115-02a432c6c1c62bbb3a59801b7';\nconst PER_PAGE = 12;\n\nexport const fetchItems = (searchItem, page = 1) => {\n  return fetch(\n    `${BASE_URL}?q=${searchItem}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`,\n  );\n};\n","// import PropTypes from 'prop-types';\n\nexport const ImageGalleryItem = ({ id, src, tag, currentImage }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        id={id}\n        src={src}\n        alt={tag}\n        onClick={currentImage}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n","// import PropTypes from 'prop-types';\n\nexport const Button = ({ onBtnClick }) => {\n  return (\n    <div className=\"btn_wrapper\">\n      <button type=\"button\" className=\"Button\" onClick={onBtnClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport { fetchItems } from '../../api-services/fetch-api';\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\nimport { Button } from '../Button/Button';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport class ImageGallery extends Component {\n  state = {\n    searchResult: [],\n\n    error: null,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchItem, page } = this.props;\n\n    if (prevProps.searchItem !== searchItem) {\n      this.setState({ status: 'pending' });\n\n      fetchItems(searchItem, page)\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n          return Promise.reject(new Error(`${searchItem} returned with error`));\n        })\n        .then(data => {\n          const { hits } = data;\n\n          hits.length === 0\n            ? this.setState({ searchResult: [], status: 'idle' })\n            : this.setState({ searchResult: hits });\n\n          return this.setState({ status: 'resolved' });\n        })\n        .catch(error => this.setState({ error: error, status: 'rejected' }));\n    }\n\n    if (prevProps.page !== page) {\n      this.setState({ status: 'pending' });\n\n      fetchItems(searchItem, page)\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n          return Promise.reject(new Error(`${searchItem} returned with error`));\n        })\n        .then(data => {\n          const { hits } = data;\n          console.log(hits);\n\n          if (hits.length === 0) {\n            this.setState({ searchResult: [], status: 'idle' });\n            return;\n          }\n\n          this.setState(prevState => ({\n            searchResult: [...prevState.searchResult, ...hits],\n          }));\n\n          return this.setState({ status: 'resolved' });\n        })\n        .catch(error => this.setState({ error: error, status: 'rejected' }));\n    }\n    this.scrollDown();\n  }\n\n  scrollDown = () => {\n    return window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { searchResult, error, status } = this.state;\n\n    if (status === 'idle') {\n      return <h2> </h2>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <div className=\"loader_wrapper\">\n          <Loader\n            type=\"TailSpin\"\n            color=\"#3f51b5\"\n            height={60}\n            width={60}\n            className=\"Loader\"\n          />\n        </div>\n      );\n    }\n\n    if (status === 'rejected') {\n      return <h2>{error.message}</h2>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <section>\n          <ul className=\"ImageGallery\">\n            {searchResult.map((item, index) => {\n              const itemId = uuidv4();\n              return (\n                <ImageGalleryItem\n                  key={itemId}\n                  id={item.id}\n                  src={item.webformatURL}\n                  tag={item.tag}\n                  currentImage={this.props.currentImage}\n                />\n              );\n            })}\n          </ul>\n          {searchResult.length >= 0 && status !== 'idle' && (\n            <Button onBtnClick={this.props.onBtnClick} />\n          )}\n        </section>\n      );\n    }\n  }\n}\n\nImageGallery.propTypes = {\n  children: PropTypes.node,\n};\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.src} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport { Searchbar } from './Searchbar';\nimport { ImageGallery } from './ImageGallery';\n\nimport { Modal } from './Modal';\n\nexport class App extends Component {\n  state = {\n    searchItem: '',\n    page: 1,\n    currentImage: '',\n    modalOpen: false,\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchItem: searchQuery });\n  };\n\n  handleSearchResult = querryResult => {\n    if (querryResult.length === 0) {\n      this.setState({ searchResult: null });\n    } else {\n      this.setState({ searchResult: querryResult });\n    }\n  };\n\n  handleItemClick = e => {\n    this.setState({ currentImage: e.currentTarget.src });\n    this.setState({ modalOpen: true });\n  };\n\n  handleModalClose = e => {\n    this.setState({ modalOpen: false });\n  };\n\n  onBtnClick = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { searchItem, page, currentImage, modalOpen } = this.state;\n    // console.log(this.state.searchItem);\n    // console.log(this.state.searchResult);\n\n    // const notify = () => toast('Here is your toast.');\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          searchItem={searchItem}\n          page={page}\n          searchResult={this.handleSearchResult}\n          currentImage={this.handleItemClick}\n          onBtnClick={this.onBtnClick}\n        />\n\n        {modalOpen && (\n          <Modal src={currentImage} onClose={this.handleModalClose} />\n        )}\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}